/* 全局样式文件 */

/* Mermaid 图表优化 */
.mermaid {
    background-color: #ffffff;
    border-radius: 8px;
    padding: 20px;
    margin: 20px 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    border: 1px solid #e2e8f0;
}

.mermaid .node rect,
.mermaid .node circle,
.mermaid .node ellipse,
.mermaid .node polygon {
    stroke-width: 2px;
    rx: 6px;
    ry: 6px;
}

.mermaid .node text {
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 17px;
    font-weight: 500;
}

.mermaid .edgePath path {
    stroke-width: 2px;
    stroke: #64748b;
    fill: none;
}

.mermaid .edgePath marker path {
    fill: #64748b;
}

.mermaid .cluster rect {
    stroke-width: 2px;
    stroke: #e2e8f0;
    fill: #f8fafc;
    rx: 8px;
    ry: 8px;
}

.mermaid .cluster text {
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 18px;
    font-weight: 600;
    fill: #1e293b;
}

.mermaid .actor rect {
    stroke-width: 2px;
    rx: 6px;
    ry: 6px;
}

.mermaid .actor text {
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 17px;
    font-weight: 500;
}

.mermaid .note rect {
    stroke-width: 2px;
    rx: 4px;
    ry: 4px;
}

.mermaid .state rect {
    stroke-width: 2px;
    rx: 6px;
    ry: 6px;
}

.mermaid .state text {
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 17px;
    font-weight: 500;
}

.mermaid .flowchart .node rect {
    stroke-width: 2px;
    rx: 6px;
    ry: 6px;
}

.mermaid .flowchart .node text {
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 17px;
    font-weight: 500;
}

/* 深色模式适配 */
@media (prefers-color-scheme: dark) {
    .mermaid {
        background-color: #1e293b;
        border-color: #334155;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }

    .mermaid .node text {
        fill: #f1f5f9;
    }

    .mermaid .edgePath path {
        stroke: #94a3b8;
    }

    .mermaid .edgePath marker path {
        fill: #94a3b8;
    }

    .mermaid .cluster rect {
        stroke: #334155;
        fill: #0f172a;
    }

    .mermaid .cluster text {
        fill: #f1f5f9;
    }

    .mermaid .actor rect {
        stroke: #0ea5e9;
        fill: #0c4a6e;
    }

    .mermaid .actor text {
        fill: #f1f5f9;
    }

    .mermaid .note rect {
        stroke: #f59e0b;
        fill: #78350f;
    }

    .mermaid .state rect {
        stroke: #0ea5e9;
        fill: #0c4a6e;
    }

    .mermaid .state text {
        fill: #f1f5f9;
    }

    .mermaid .flowchart .node rect {
        stroke: #0ea5e9;
        fill: #0c4a6e;
    }

    .mermaid .flowchart .node text {
        fill: #f1f5f9;
    }
}

/* 响应式设计 */
@media (max-width: 768px) {
    .mermaid {
        padding: 10px;
        margin: 10px 0;
        overflow-x: auto;
    }

    .mermaid .node text {
        font-size: 11px;
    }

    .mermaid .cluster text {
        font-size: 12px;
    }

    .mermaid .actor text {
        font-size: 11px;
    }

    .mermaid .state text {
        font-size: 11px;
    }

    .mermaid .flowchart .node text {
        font-size: 11px;
    }
}

/* 打印样式 */
@media print {
    .mermaid {
        box-shadow: none;
        border: 1px solid #ccc;
        page-break-inside: avoid;
    }
}
